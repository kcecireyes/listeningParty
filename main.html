<!DOCTYPE html>
<html>
<head>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" type="text/css" href="style/main.css">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
	<script type="text/javascript" src="js/main.js"></script>

	<title>Listening party!!</title>
</head>
<body>
<div id="banner"></div>
<div id="main">
	<div id="play">
		<div class="play-button">
			<div class="play-button-circle">
				<audio src="audio/cookie_zach.mp3" id="player"></audio>
				<a id='play' href="#" class="round-button">PLAY</a>
			</div>
		</div>
		<div class="arrow-down pulse bounce"></div>
		<progress id="seekbar" value="0" max="1"></progress>
	</div>
	<div id="navigate">
		<div id="listen" class="button">LISTEN TO THE SHOW</div>
		<div id="join_app" class="button">JOIN THE CONVERSATION</div>
	</div>
</div>

</body>
<script type="text/javascript">

	$('.round-button').on('click', function(e){
		var current_id = $(this).attr('id');
		playState(current_id, this);
	})

	function playState(current, obj) {
		console.log(obj);
		console.log('this is the current', current);

		if (current === 'play'){
			console.log('hey someone clicked play');
			document.getElementById('player').play(); // play
			$(obj).attr('id', 'pause');
			$(obj).text('PAUSE');

			console.log($(obj));
		}
		else if(current === 'pause'){
			console.log('hey pause this shit');
			document.getElementById('player').pause();
			$(obj).attr('id', 'play'); // make it avail to play again
			$(obj).text('PLAY');
		}
		else{
			console.log('lol idk', current);
		}
	}

	$('#player').on('timeupdate', function() {
		var offset = this.currentTime / this.duration
		$('#seekbar').attr("value", offset);
	});

</script>
</html>